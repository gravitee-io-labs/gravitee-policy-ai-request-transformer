{
  "name": "AI Request Transformer",
  "description": "Transform request payload using INLINE mode",
  "enabled": true,
  "policy": "ai-request-transformer",
  "configuration": {
    "prompt": "Rewrite the incoming body into compact JSON with fields: summary, intent, confidence.",
    "llmSourceMode": "INLINE",
    "llmModel": "gpt-4o-mini",
    "llm": {
      "endpoint": "https://api.openai.com/v1",
      "authType": "BEARER",
      "authValue": "${#secrets['OPENAI_API_KEY']}"
    },
    "maxRequestBodySize": 1048576,
    "maxLlmResponseBodySize": 1048576,
    "llmTimeoutMs": 30000,
    "errorMode": "FAIL_OPEN"
  }
}
